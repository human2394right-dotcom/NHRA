<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NHRA - Joining Letter</title>
  <style>
    /* A4 page setup */
    @page { size: A4; margin: 20mm; }
    html, body {
      width: 210mm;
      height: 297mm;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      color: #222;
      -webkit-print-color-adjust: exact;
    }
    .container {
      box-sizing: border-box;
      width: calc(210mm - 40mm);
      margin: 20mm;
      padding: 16px;
      position: relative;
    }

    /* Header */
    .letter-header {
      display: flex;
      align-items: center;
      padding: 14px 18px;
      border-radius: 6px;
      color: #fff;
      background: linear-gradient(90deg, #0b4f9c 0%, #f59e0b 100%); /* Blue to saffron */
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
      margin-bottom: 18px;
    }
    .logo {
      width: 100px;
      height: 100px;
      flex: 0 0 100px;
    }
    .logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 6px;
      background: rgba(255,255,255,0.06);
      padding: 6px;
    }
    .org-meta {
      flex: 1;
      text-align: center;
      padding-left: 12px;
    }
    .org-meta h1 {
      margin: 2px 0;
      font-size: 22px;
      letter-spacing: 0.5px;
      font-weight: 700;
      font-family: Arial, sans-serif;
    }
    .org-meta .hin {
      font-family: Mangal, 'Noto Sans Devanagari', Arial, sans-serif;
      font-size: 16px;
      opacity: 0.95;
    }

    /* Header right (optional small seal) */
    .header-right {
      width: 100px;
      text-align: right;
      font-size: 12px;
      opacity: 0.95;
    }

    /* Document meta (date, ref) */
    .doc-meta {
      display: flex;
      justify-content: space-between;
      margin: 10px 0 18px;
      font-size: 12.5px;
    }
    .doc-meta .left, .doc-meta .right { width: 48%; }
    .doc-meta .right { text-align: right; }

    /* Subject */
    .subject {
      text-align: center;
      font-weight: 700;
      font-size: 16px;
      margin: 6px 0 18px;
      text-transform: uppercase;
    }
    .subject .hin {
      display: block;
      font-family: Mangal, 'Noto Sans Devanagari', Arial, sans-serif;
      font-weight: 600;
      margin-top: 4px;
      text-transform: none;
    }

    /* Salutation & body */
    .body {
      font-size: 13px;
      line-height: 1.5;
      margin-bottom: 18px;
    }
    .body p { margin: 8px 0; }
    .body .hin { font-family: Mangal, 'Noto Sans Devanagari', Arial, sans-serif; }

    /* Member details box */
    .details {
      border: 1px solid #ddd;
      padding: 12px;
      border-radius: 6px;
      margin: 12px 0;
      font-size: 13px;
    }
    .details .row {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      border-bottom: 1px dashed #eee;
    }
    .details .row:last-child { border-bottom: none; }
    .details .label { font-weight: 600; width: 45%; color: #333; }
    .details .value { width: 50%; text-align: right; color: #111; }

    .two-col {
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }
    .left-col { flex: 1; }
    .right-col { width: 120px; text-align: center; }

    /* QR code */
    .qr {
      border: 1px solid #e6e6e6;
      padding: 8px;
      border-radius: 6px;
      background: #fff;
    }
    .qr img { width: 110px; height: 110px; object-fit: contain; display:block; margin: 0 auto; }

    /* Signature */
    .signature {
      margin-top: 24px;
      text-align: left;
      font-size: 13px;
    }
    .signature .sig-line {
      display: block;
      width: 220px;
      border-bottom: 1px solid #333;
      margin-bottom: 6px;
      height: 2px;
    }
    .signature .name { font-weight: 700; margin-top: 4px; }
    .signature .designation { font-size: 12px; color: #333; }

    /* Footer */
    .footer {
      position: fixed;
      bottom: 16mm;
      left: 20mm;
      right: 20mm;
      font-size: 11px;
      text-align: center;
      color: #444;
      border-top: 1px solid rgba(0,0,0,0.06);
      padding-top: 8px;
    }
    .footer .hin { font-family: Mangal, 'Noto Sans Devanagari', Arial, sans-serif; }

    /* Terms */
    .terms {
      margin-top: 10px;
      font-size: 12.5px;
    }
    .terms ul { margin: 6px 0 0 18px; }

    /* Print tweaks */
    @media print {
      .container { margin: 0; padding: 18mm; }
      .footer { position: fixed; bottom: 12mm; }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="letter-header" role="banner">
      <div class="logo" aria-hidden="true">
        <img src="/public/images/nhra-logo.png" alt="NHRA Logo">
      </div>
      <div class="org-meta">
        <h1>National Human Rights Association - Bihar</h1>
        <div class="hin">राष्ट्रीय मानव अधिकार संघ - बिहार</div>
        <div style="font-size:12px; margin-top:6px; opacity:0.95;">Registered NGO • Working for social justice & human dignity</div>
      </div>
      <div class="header-right" aria-hidden="true">
        <!-- optional small text or seal -->
      </div>
    </div>

    <!-- Meta -->
    <div class="doc-meta">
      <div class="left">
        <strong>Date / तिथि:</strong> <%= date || new Date().toLocaleDateString('en-IN') %><br>
        <strong>To / प्रेषक:</strong> <%= member.name %> (<%= member.email %>)
      </div>
      <div class="right">
        <strong>Ref No. / संदर्भ संख्या:</strong> <%= refNo %><br>
        <strong>Membership ID / सदस्यता आईडी:</strong> <%= membershipId %>
      </div>
    </div>

    <!-- Subject -->
    <div class="subject">
      Membership Joining Letter
      <span class="hin"> / सदस्यता स्वीकृति पत्र</span>
    </div>

    <!-- Salutation -->
    <div class="body">
      <p><strong>Dear <%= member.name %>,</strong><br>
      <span class="hin"><strong>प्रिय <%= member.name %>,</strong></span></p>

      <div class="two-col">
        <div class="left-col">
          <p>
            Welcome to the National Human Rights Association (NHRA) family. We are pleased to confirm your appointment as <strong><%= member.role %></strong> (<span class="hin">पद: <%= member.role_hin || member.role %></span>) in the <strong><%= member.team %></strong> team at the <strong><%= member.level %></strong> level.
          </p>

          <p>
            <strong>Responsibilities:</strong> You are expected to perform the duties of your role, represent NHRA in related activities, and adhere to our code of conduct. For any queries or coordination, please contact your state/division/district head as applicable.
          </p>

          <p>
            <strong>Validity:</strong> This membership and appointment are valid from <strong><%= startDate %></strong> to <strong><%= endDate %></strong> (typically 1 year) unless renewed or revoked earlier.
          </p>

          <div class="details" aria-labelledby="member-details">
            <div id="member-details" style="font-weight:700; margin-bottom:6px;">Member Details / सदस्य जानकारी</div>

            <div class="row">
              <div class="label">Name / नाम</div>
              <div class="value"><%= member.name %></div>
            </div>
            <div class="row">
              <div class="label">Membership ID / सदस्यता आईडी</div>
              <div class="value"><%= membershipId %></div>
            </div>
            <div class="row">
              <div class="label">Team / टीम</div>
              <div class="value"><%= member.team %></div>
            </div>
            <div class="row">
              <div class="label">Level / स्तर</div>
              <div class="value"><%= member.level %></div>
            </div>
            <div class="row">
              <div class="label">Role / पद</div>
              <div class="value"><%= member.role %></div>
            </div>
            <div class="row">
              <div class="label">Email / ईमेल</div>
              <div class="value"><%= member.email %></div>
            </div>
            <div class="row">
              <div class="label">Phone / फ़ोन</div>
              <div class="value"><%= member.phone %></div>
            </div>
          </div>

          <div class="terms">
            <strong>Terms & Conditions / नियम एवं शर्तें</strong>
            <ul>
              <li>This appointment is subject to confirmation upon verification of credentials and completion of membership formalities.</li>
              <li>Members must adhere to NHRA policies and confidentiality guidelines.</li>
              <li>Misconduct or breach of rules may lead to revocation of membership/role.</li>
            </ul>
          </div>
        </div>

        <div class="right-col">
          <div class="qr" aria-label="QR Verification">
            <% if (qrDataUrl) { %>
              <img src="<%= qrDataUrl %>" alt="QR Code">
            <% } else { %>
              <div style="width:110px;height:110px;display:flex;align-items:center;justify-content:center;background:#f7f7f7;color:#aaa;border-radius:4px;">QR</div>
            <% } %>
            <div style="font-size:11px;margin-top:8px;">
              <div style="font-weight:600;">Scan to Verify</div>
              <div class="hin" style="font-size:11px;margin-top:2px;">सत्यापन के लिए स्कैन करें</div>
            </div>
            <% if (verifyUrl) { %>
              <div style="font-size:11px;margin-top:6px;word-break:break-all;"><a href="<%= verifyUrl %>"><%= verifyUrl %></a></div>
            <% } %>
          </div>
        </div>
      </div>

      <p style="margin-top:14px;">
        Please find your joining letter attached as a PDF. We welcome you to NHRA and look forward to your valued contribution.
      </p>

      <p class="hin">कृपया संलग्न पीडीएफ के रूप में अपना जॉइनिंग लेटर देखें। हम आपका स्वागत करते हैं और आपके सहयोग की प्रतीक्षा करेंगे।</p>
    </div>

    <!-- Signature -->
    <div class="signature" role="contentinfo">
      <% if (signatureUrl) { %>
        <div style="width:240px;">
          <img src="<%= signatureUrl %>" alt="Authorized Signature" style="max-width:240px;height:auto;display:block;margin-bottom:6px;">
        </div>
      <% } else { %>
        <span class="sig-line" aria-hidden="true"></span>
      <% } %>

      <div class="name"><%= signerName || 'State President' %></div>
      <div class="designation"><%= signerDesignation || 'NHRA Bihar' %></div>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer" role="contentinfo">
    <div style="font-weight:700;">National Human Rights Association - Bihar</div>
    <div class="hin"><%= orgAddress || 'NHRA Bihar, 123, Civil Lines, Patna, Bihar - 800001' %></div>
    <div style="margin-top:4px;">
      Website: <a href="<%= orgWebsite %>"><%= orgWebsite %></a> • Contact: <%= orgPhone %>
    </div>
  </div>
</body>
</html>
                        <div class="english-content">
                            <div class="content-title">English:</div>
                            <div class="content-text">
                                • Uphold human rights principles and NHRA values<br>
                                • Participate in team activities and meetings<br>
                                • Promote human rights awareness in your community<br>
                                • Maintain confidentiality of sensitive information<br>
                                • Serve for a term of 1 year (renewable)<br>
                                • Follow NHRA code of conduct and guidelines
                            </div>
                        </div>
                        <div class="hindi-content">
                            <div class="content-title hindi-text">हिंदी:</div>
                            <div class="content-text hindi-text">
                                • मानवाधिकार सिद्धांतों और NHRA मूल्यों का सम्मान करें<br>
                                • टीम गतिविधियों और बैठकों में भाग लें<br>
                                • अपने समुदाय में मानवाधिकार जागरूकता बढ़ाएं<br>
                                • संवेदनशील जानकारी की गोपनीयता बनाए रखें<br>
                                • 1 वर्ष की अवधि के लिए सेवा करें (नवीकरणीय)<br>
                                • NHRA आचार संहिता और दिशानिर्देशों का पालन करें
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="footer">
                <div class="qr-section">
                    <img src="<%= member.qrCode %>" alt="QR Code" class="qr-code">
                    <div class="qr-text">Scan to verify<br>सत्यापन के लिए स्कैन करें</div>
                </div>

                <div class="signature-section">
                    <div class="signature-line"></div>
                    <div class="signature-title">Authorized Signatory</div>
                    <div class="signature-subtitle">NHRA Bihar State President</div>
                    <div class="signature-title hindi-text mt-10">अधिकृत हस्ताक्षर</div>
                    <div class="signature-subtitle hindi-text">NHRA बिहार राज्य अध्यक्ष</div>
                </div>

                <div class="org-footer">
                    <strong>National Human Rights Association</strong><br>
                    Bihar State Unit<br>
                    भारत (India)<br>
                    Website: www.nhra.in<br>
                    Email: info@nhra.in<br>
                    Phone: +91-XXXXXXXXXX
                </div>
            </div>
        </div>
    </div>
</body>
</html>
